# Educational Isaac Ecosystem API Contract

## Overview
This contract defines the interfaces for educational components of the Isaac ecosystem module, allowing students to interact with simulations and track their learning progress. This API addresses all functional requirements (FR-001 through FR-013) from the specification.

## Simulation Management API (addresses FR-001, FR-004, FR-009, FR-011)

### Create Simulation Environment
```
POST /api/v1/simulation/environments
Content-Type: application/json

{
  "name": "string",
  "description": "string",
  "robot_model": "string",
  "scene_config": {
    "environment_type": "indoor|outdoor|warehouse",
    "objects": ["object1", "object2"],
    "lighting": "config_object"
  },
  "sensors": [
    {
      "type": "rgb_camera|depth_sensor|lidar|imu",
      "mount_point": "string",
      "parameters": {}
    }
  ],
  "humanoid_config": {  // (addresses FR-011)
    "kinematic_chain": "object",
    "joint_limits": "object",
    "degrees_of_freedom": "int"
  },
  "physics_simulation": {  // (addresses FR-001)
    "gravity": "float",
    "collision_detection": "boolean",
    "rigid_body_dynamics": "object"
  }
}
```

**Response**:
```
201 Created
{
  "simulation_id": "uuid",
  "status": "created|running|paused",
  "connection_details": {
    "isaac_sim_url": "string",
    "ros_master_uri": "string"
  },
  "created_at": "timestamp"
}
```

### Run Simulation
```
POST /api/v1/simulation/{simulation_id}/run
```

**Response**:
```
200 OK
{
  "status": "running",
  "metrics": {
    "fps": "float",  // (addresses FR-001 performance)
    "sim_time_factor": "float",
    "gpu_memory_used": "int",
    "physics_accuracy": "float"  // (addresses FR-001 physics simulation)
  }
}
```

### Stop Simulation
```
POST /api/v1/simulation/{simulation_id}/stop
```

**Response**:
```
200 OK
{
  "status": "stopped"
}
```

## Synthetic Data Generation API (addresses FR-002)

### Generate Synthetic Dataset
```
POST /api/v1/synthetic-data/generate
Content-Type: application/json

{
  "simulation_id": "uuid",
  "dataset_name": "string",
  "data_type": "images|point_clouds|sensor_data|labeled_data",
  "sample_count": "int",
  "domain_randomization": {  // (addresses FR-002)
    "enabled": "boolean",
    "parameters": {
      "lighting_variation": "float",
      "texture_randomization": "float",
      "object_position_jitter": "float"
    }
  },
  "photorealistic_quality": "float"  // (addresses FR-002)
}
```

**Response**:
```
200 OK
{
  "dataset_id": "uuid",
  "status": "generating|completed|failed",
  "output_path": "string",
  "metrics": {
    "sample_count_generated": "int",
    "domain_randomization_applied": "boolean",  // (addresses FR-002)
    "photorealistic_quality_score": "float"  // (addresses FR-002)
  }
}
```

## Perception Pipeline API (addresses FR-003, FR-007)

### Configure Isaac ROS Pipeline
```
PUT /api/v1/perception/pipeline
Content-Type: application/json

{
  "pipeline_name": "string",
  "nodes": [  // (addresses FR-003: VSLAM, object detection, tracking)
    {
      "node_type": "vslam|object_detection|tracking|visual_odometry",
      "package": "isaac_ros_vslam|isaac_ros_detectnet|isaac_ros_tracking",
      "parameters": {}
    }
  ],
  "input_topics": ["string"],
  "output_topics": ["string"],
  "gpu_acceleration": {  // (addresses FR-007)
    "enabled": "boolean",
    "cuda_enabled": "boolean",
    "tensorrt_enabled": "boolean",
    "gpu_memory_requirement": "int"
  }
}
```

**Response**:
```
200 OK
{
  "pipeline_id": "uuid",
  "status": "configured|running",
  "ros_graph": {},
  "gpu_metrics": {  // (addresses FR-007)
    "gpu_utilization": "float",
    "memory_used": "int",
    "acceleration_enabled": "boolean"
  }
}
```

### Start Perception Processing
```
POST /api/v1/perception/pipeline/{pipeline_id}/start
```

**Response**:
```
200 OK
{
  "status": "running",
  "performance_metrics": {
    "processing_rate_hz": "float",  // (addresses FR-003 performance)
    "gpu_utilization": "float",  // (addresses FR-007)
    "latency_ms": "float",
    "detection_accuracy": "float"  // (addresses FR-003: object detection/tracking)
  }
}
```

## Navigation API (addresses FR-013)

### Plan Path with Nav2
```
POST /api/v1/navigation/plan
Content-Type: application/json

{
  "robot_id": "string",
  "start_pose": {
    "x": "float",
    "y": "float",
    "theta": "float"
  },
  "goal_pose": {
    "x": "float",
    "y": "float",
    "theta": "float"
  },
  "map_id": "string",
  "planner_params": {
    "global_planner": "string",
    "local_planner": "string"
  },
  "perception_integration": {  // (addresses FR-013)
    "isaac_ros_source": "string",
    "sensor_fusion_enabled": "boolean"
  },
  "humanoid_navigation": {  // (addresses FR-011)
    "bipedal_locomotion": "boolean",
    "balance_control": "boolean",
    "step_planning": "boolean"
  }
}
```

**Response**:
```
200 OK
{
  "path": [
    {
      "x": "float",
      "y": "float",
      "theta": "float"
    }
  ],
  "path_length_m": "float",
  "estimated_duration_s": "float",
  "planner_integration_status": {  // (addresses FR-013)
    "isaac_ros_perception_connected": "boolean",
    "sensor_fusion_active": "boolean"
  }
}
```

## Exercise Management API (addresses FR-004, FR-005, FR-009, FR-010)

### Get Available Exercises
```
GET /api/v1/exercises?module=3&chapter={1-4}&difficulty={beginner|intermediate|advanced}
```

**Response**:
```
200 OK
[
  {
    "exercise_id": "string",
    "title": "string",
    "description": "string",
    "difficulty": "beginner|intermediate|advanced",  // (addresses FR-010)
    "estimated_duration_min": "int",
    "prerequisites": ["string"],  // (addresses FR-010)
    "learning_objectives": ["string"],
    "isaac_sim_examples": ["string"],  // (addresses FR-004)
    "ai_robot_integration_examples": ["string"],  // (addresses FR-009)
    "certification_links": ["string"]  // (addresses FR-005)
  }
]
```

### Submit Exercise Solution
```
POST /api/v1/exercises/{exercise_id}/submit
Content-Type: application/json

{
  "student_solution": "string|file_upload",
  "execution_logs": [],
  "results": {
    "success": "boolean",
    "metrics": {},
    "errors": []
  },
  "gpu_algorithm_examples": {  // (addresses FR-007)
    "cuda_implementation": "string",
    "performance_comparison": "object"
  },
  "cpu_vs_gpu_analysis": {  // (addresses FR-008)
    "cpu_performance": "object",
    "gpu_performance": "object",
    "comparison_analysis": "string"
  },
  "simulation_reality_transfer": {  // (addresses FR-012)
    "domain_randomization_used": "boolean",
    "transfer_success_metrics": "object"
  }
}
```

**Response**:
```
200 OK
{
  "grade": "pass|fail|partial",
  "feedback": "string",
  "improvement_suggestions": ["string"],
  "fr_validation": {  // Validation of functional requirements completion
    "fr_007_gpu_examples": "boolean",  // (addresses FR-007)
    "fr_008_cpu_vs_gpu": "boolean",  // (addresses FR-008)
    "fr_012_sim_to_reality": "boolean"  // (addresses FR-012)
  }
}
```

## Student Progress API

### Track Learning Progress
```
GET /api/v1/student/progress?module=3
```

**Response**:
```
200 OK
{
  "module": 3,
  "chapters_completed": ["1", "2"],
  "exercises_completed": ["ex1", "ex2"],
  "overall_completion_percent": "float",
  "achievements": ["string"],
  "recommendations": ["string"],
  "fr_compliance": {  // (addresses all FR requirements)
    "fr_001_isaac_sim_fundamentals": "boolean",
    "fr_002_synthetic_data_generation": "boolean",
    "fr_003_isaac_ros_perception": "boolean",
    "fr_004_practical_exercises": "boolean",
    "fr_005_certification_resources": "boolean",
    "fr_006_simulation_first_consistency": "boolean",
    "fr_007_gpu_accelerated_examples": "boolean",
    "fr_008_cpu_vs_gpu_content": "boolean",
    "fr_009_ai_robot_integration": "boolean",
    "fr_010_accessible_to_target_audience": "boolean",
    "fr_011_humanoid_robot_examples": "boolean",
    "fr_012_simulation_reality_transfer": "boolean",
    "fr_013_nav2_integration": "boolean"
  }
}
```

## Simulation-to-Reality Transfer API (addresses FR-012)

### Apply Simulation-to-Reality Transfer Techniques
```
POST /api/v1/transfer/simulation-to-reality
Content-Type: application/json

{
  "simulation_dataset_id": "uuid",
  "transfer_techniques": {  // (addresses FR-012)
    "domain_randomization": {
      "enabled": "boolean",
      "parameters": "object"
    },
    "system_identification": {
      "enabled": "boolean",
      "method": "string",
      "parameters": "object"
    }
  },
  "validation_strategy": {  // (addresses FR-012)
    "sim_vs_real_comparison": "object",
    "performance_metrics": "object"
  }
}
```

**Response**:
```
200 OK
{
  "transfer_status": "applied|validated|failed",
  "transfer_metrics": {
    "domain_randomization_applied": "boolean",  // (addresses FR-012)
    "system_identification_used": "boolean",  // (addresses FR-012)
    "sim_to_real_gap_reduction": "float",  // (addresses FR-012)
    "validation_success": "boolean"  // (addresses FR-012)
  }
}
```