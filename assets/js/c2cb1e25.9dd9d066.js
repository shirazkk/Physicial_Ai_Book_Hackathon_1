"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[3714],{518(n,e,i){i.r(e),i.d(e,{assets:()=>s,contentTitle:()=>a,default:()=>d,frontMatter:()=>t,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"module-3-digital-twin/chapter-2-robot-modeling/solutions","title":"URDF and SDF Robot Description Formats - Solutions","description":"Solution 2.1: URDF Fundamentals","source":"@site/docs/module-3-digital-twin/chapter-2-robot-modeling/solutions.md","sourceDirName":"module-3-digital-twin/chapter-2-robot-modeling","slug":"/module-3-digital-twin/chapter-2-robot-modeling/solutions","permalink":"/Physicial_Ai_Book_Hackathon_1/docs/module-3-digital-twin/chapter-2-robot-modeling/solutions","draft":false,"unlisted":false,"editUrl":"https://github.com/shirazkk/Physicial_Ai_Book_Hackathon_1/edit/main/my-website/docs/module-3-digital-twin/chapter-2-robot-modeling/solutions.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"URDF and SDF Robot Description Formats - Exercises","permalink":"/Physicial_Ai_Book_Hackathon_1/docs/module-3-digital-twin/chapter-2-robot-modeling/exercises"},"next":{"title":"Physics Simulation and Sensor Simulation","permalink":"/Physicial_Ai_Book_Hackathon_1/docs/module-3-digital-twin/chapter-3-sensor-simulation/content"}}');var o=i(4848),r=i(8453);const t={},a="URDF and SDF Robot Description Formats - Solutions",s={},c=[{value:"Solution 2.1: URDF Fundamentals",id:"solution-21-urdf-fundamentals",level:2},{value:"Solution 2.2: Xacro Macros Implementation",id:"solution-22-xacro-macros-implementation",level:2},{value:"Solution 2.3: Humanoid Robot Modeling",id:"solution-23-humanoid-robot-modeling",level:2},{value:"Solution 2.4: Inertial Properties Estimation",id:"solution-24-inertial-properties-estimation",level:2},{value:"Solution 2.5: URDF to SDF Conversion and Enhancement",id:"solution-25-urdf-to-sdf-conversion-and-enhancement",level:2},{value:"Solution 2.6: Validation and Debugging",id:"solution-26-validation-and-debugging",level:2},{value:"Solution 2.7: Multi-Link Chain Optimization",id:"solution-27-multi-link-chain-optimization",level:2},{value:"Back to Chapter Contents",id:"back-to-chapter-contents",level:2}];function m(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"urdf-and-sdf-robot-description-formats---solutions",children:"URDF and SDF Robot Description Formats - Solutions"})}),"\n",(0,o.jsx)(e.h2,{id:"solution-21-urdf-fundamentals",children:"Solution 2.1: URDF Fundamentals"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsxs)(e.strong,{children:["Sample URDF file (",(0,o.jsx)(e.code,{children:"simple_wheeled_robot.urdf"}),"):"]})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_wheeled_robot">\n  \x3c!-- Materials --\x3e\n  <material name="blue">\n    <color rgba="0.0 0.0 1.0 1.0"/>\n  </material>\n  <material name="black">\n    <color rgba="0.0 0.0 0.0 1.0"/>\n  </material>\n\n  \x3c!-- Base link --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.5 0.3 0.1"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.5 0.3 0.1"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.03"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Left wheel --\x3e\n  <link name="left_wheel">\n    <visual>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n      <material name="black"/>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.2"/>\n      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.002"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Right wheel --\x3e\n  <link name="right_wheel">\n    <visual>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n      <material name="black"/>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.2"/>\n      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.002"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Joints --\x3e\n  <joint name="left_wheel_joint" type="continuous">\n    <parent link="base_link"/>\n    <child link="left_wheel"/>\n    <origin xyz="0.2 -0.2 -0.05" rpy="1.5708 0 0"/>\n    <axis xyz="0 0 1"/>\n  </joint>\n\n  <joint name="right_wheel_joint" type="continuous">\n    <parent link="base_link"/>\n    <child link="right_wheel"/>\n    <origin xyz="0.2 0.2 -0.05" rpy="1.5708 0 0"/>\n    <axis xyz="0 0 1"/>\n  </joint>\n</robot>\n'})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Validation command:"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"check_urdf simple_wheeled_robot.urdf\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Expected output:"})," Parsing success, 3 links, 2 joints, proper kinematic tree."]}),"\n",(0,o.jsx)(e.h2,{id:"solution-22-xacro-macros-implementation",children:"Solution 2.2: Xacro Macros Implementation"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsxs)(e.strong,{children:["Xacro version (",(0,o.jsx)(e.code,{children:"simple_wheeled_robot.xacro"}),"):"]})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_wheeled_robot" xmlns:xacro="http://www.ros.org/wiki/xacro">\n  \x3c!-- Constants --\x3e\n  <xacro:property name="M_PI" value="3.1415926535897931"/>\n\n  \x3c!-- Wheel macro --\x3e\n  <xacro:macro name="wheel" params="prefix parent x_pos y_pos z_pos">\n    <link name="${prefix}_wheel">\n      <visual>\n        <geometry>\n          <cylinder radius="0.1" length="0.05"/>\n        </geometry>\n        <material name="black"/>\n      </visual>\n      <collision>\n        <geometry>\n          <cylinder radius="0.1" length="0.05"/>\n        </geometry>\n      </collision>\n      <inertial>\n        <mass value="0.2"/>\n        <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.002"/>\n      </inertial>\n    </link>\n\n    <joint name="${prefix}_wheel_joint" type="continuous">\n      <parent link="${parent}"/>\n      <child link="${prefix}_wheel"/>\n      <origin xyz="${x_pos} ${y_pos} ${z_pos}" rpy="${M_PI/2} 0 0"/>\n      <axis xyz="0 0 1"/>\n    </joint>\n  </xacro:macro>\n\n  \x3c!-- Materials --\x3e\n  <material name="blue">\n    <color rgba="0.0 0.0 1.0 1.0"/>\n  </material>\n  <material name="black">\n    <color rgba="0.0 0.0 0.0 1.0"/>\n  </material>\n\n  \x3c!-- Base link --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.5 0.3 0.1"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.5 0.3 0.1"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.03"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Use wheel macros --\x3e\n  <xacro:wheel prefix="left" parent="base_link" x_pos="0.2" y_pos="-0.2" z_pos="-0.05"/>\n  <xacro:wheel prefix="right" parent="base_link" x_pos="0.2" y_pos="0.2" z_pos="-0.05"/>\n</robot>\n'})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Comparison:"})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Original: ~60 lines with duplicate wheel definitions"}),"\n",(0,o.jsx)(e.li,{children:"Xacro: ~50 lines with reusable macro"}),"\n",(0,o.jsx)(e.li,{children:"Xacro version is more maintainable and less error-prone"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"solution-23-humanoid-robot-modeling",children:"Solution 2.3: Humanoid Robot Modeling"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Enhanced humanoid model with additional joints:"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="enhanced_humanoid" xmlns:xacro="http://www.ros.org/wiki/xacro">\n  <xacro:property name="M_PI" value="3.1415926535897931"/>\n  <xacro:property name="mass_body" value="10.0"/>\n  <xacro:property name="mass_limb" value="2.0"/>\n  <xacro:property name="mass_arm" value="1.5"/>\n  <xacro:property name="body_size_x" value="0.2"/>\n  <xacro:property name="body_size_y" value="0.15"/>\n  <xacro:property name="body_size_z" value="0.4"/>\n  <xacro:property name="limb_radius" value="0.05"/>\n  <xacro:property name="limb_length" value="0.3"/>\n  <xacro:property name="arm_length" value="0.25"/>\n\n  \x3c!-- Material definitions --\x3e\n  <material name="gray">\n    <color rgba="0.5 0.5 0.5 1.0"/>\n  </material>\n  <material name="white">\n    <color rgba="1.0 1.0 1.0 1.0"/>\n  </material>\n\n  \x3c!-- Base link - pelvis/torso --\x3e\n  <link name="base_link">\n    <visual>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <geometry>\n        <box size="${body_size_x} ${body_size_y} ${body_size_z}"/>\n      </geometry>\n      <material name="white"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <geometry>\n        <box size="${body_size_x} ${body_size_y} ${body_size_z}"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="${mass_body}"/>\n      <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.1"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Head --\x3e\n  <joint name="neck_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="head_link"/>\n    <origin xyz="0 0 ${body_size_z/2 + 0.075}" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="${-M_PI/4}" upper="${M_PI/4}" effort="10.0" velocity="1.0"/>\n  </joint>\n\n  <link name="head_link">\n    <visual>\n      <geometry>\n        <sphere radius="0.075"/>\n      </geometry>\n      <material name="white"/>\n    </visual>\n    <collision>\n      <geometry>\n        <sphere radius="0.075"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="0.002" ixy="0.0" ixz="0.0" iyy="0.002" iyz="0.0" izz="0.002"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Left Arm with additional joints --\x3e\n  <joint name="left_shoulder_pitch" type="revolute">\n    <parent link="base_link"/>\n    <child link="left_upper_arm"/>\n    <origin xyz="${body_size_x/2 + limb_radius} 0 ${body_size_z/4}" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="${-M_PI/2}" upper="${M_PI/2}" effort="10.0" velocity="1.0"/>\n  </joint>\n\n  <joint name="left_shoulder_yaw" type="revolute">\n    <parent link="base_link"/>\n    <child link="left_shoulder_yaw_link"/>\n    <origin xyz="${body_size_x/2 + limb_radius} 0 ${body_size_z/4}" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="${-M_PI/4}" upper="${M_PI/4}" effort="10.0" velocity="1.0"/>\n  </joint>\n\n  <link name="left_shoulder_yaw_link">\n    <inertial>\n      <mass value="0.1"/>\n      <inertia ixx="0.0001" ixy="0.0" ixz="0.0" iyy="0.0001" iyz="0.0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="left_shoulder_roll" type="revolute">\n    <parent link="left_shoulder_yaw_link"/>\n    <child link="left_upper_arm"/>\n    <origin xyz="0.05 0 0" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="${-M_PI/2}" upper="${M_PI/2}" effort="10.0" velocity="1.0"/>\n  </joint>\n\n  <link name="left_upper_arm">\n    <visual>\n      <geometry>\n        <cylinder length="${arm_length}" radius="${limb_radius}"/>\n      </geometry>\n      <material name="gray"/>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="${arm_length}" radius="${limb_radius}"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="${mass_arm}"/>\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  <joint name="left_elbow" type="revolute">\n    <parent link="left_upper_arm"/>\n    <child link="left_lower_arm"/>\n    <origin xyz="0 0 ${-arm_length}" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="${-M_PI/2}" upper="0" effort="10.0" velocity="1.0"/>\n  </joint>\n\n  <link name="left_lower_arm">\n    <visual>\n      <geometry>\n        <cylinder length="${arm_length}" radius="${limb_radius}"/>\n      </geometry>\n      <material name="gray"/>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="${arm_length}" radius="${limb_radius}"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="${mass_arm}"/>\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  <joint name="left_wrist_pitch" type="revolute">\n    <parent link="left_lower_arm"/>\n    <child link="left_wrist_link"/>\n    <origin xyz="0 0 ${-arm_length}" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="${-M_PI/4}" upper="${M_PI/4}" effort="5.0" velocity="1.0"/>\n  </joint>\n\n  <link name="left_wrist_link">\n    <visual>\n      <geometry>\n        <cylinder radius="0.04" length="0.05"/>\n      </geometry>\n      <material name="gray"/>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder radius="0.04" length="0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.1"/>\n      <inertia ixx="0.0001" ixy="0.0" ixz="0.0" iyy="0.0001" iyz="0.0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Similar joints for right arm (not shown for brevity) --\x3e\n  \x3c!-- Left leg with ankle joints --\x3e\n  <joint name="left_hip_pitch" type="revolute">\n    <parent link="base_link"/>\n    <child link="left_upper_leg"/>\n    <origin xyz="${body_size_x/4} 0 ${-body_size_z/2 - limb_radius}" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="${-M_PI/2}" upper="${M_PI/4}" effort="20.0" velocity="1.0"/>\n  </joint>\n\n  <link name="left_upper_leg">\n    <visual>\n      <geometry>\n        <cylinder length="${limb_length}" radius="${limb_radius}"/>\n      </geometry>\n      <material name="gray"/>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="${limb_length}" radius="${limb_radius}"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="${mass_limb}"/>\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  <joint name="left_knee" type="revolute">\n    <parent link="left_upper_leg"/>\n    <child link="left_lower_leg"/>\n    <origin xyz="0 0 ${-limb_length}" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="${-M_PI/2}" upper="0" effort="20.0" velocity="1.0"/>\n  </joint>\n\n  <link name="left_lower_leg">\n    <visual>\n      <geometry>\n        <cylinder length="${limb_length}" radius="${limb_radius}"/>\n      </geometry>\n      <material name="gray"/>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="${limb_length}" radius="${limb_radius}"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="${mass_limb}"/>\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  <joint name="left_ankle_pitch" type="revolute">\n    <parent link="left_lower_leg"/>\n    <child link="left_foot"/>\n    <origin xyz="0 0 ${-limb_length}" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="${-M_PI/6}" upper="${M_PI/6}" effort="15.0" velocity="1.0"/>\n  </joint>\n\n  <joint name="left_ankle_roll" type="revolute">\n    <parent link="left_foot"/>\n    <child link="left_foot_tip"/>\n    <origin xyz="0.05 0 0" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="${-M_PI/6}" upper="${M_PI/6}" effort="15.0" velocity="1.0"/>\n  </joint>\n\n  <link name="left_foot">\n    <visual>\n      <geometry>\n        <box size="0.15 0.08 0.05"/>\n      </geometry>\n      <material name="gray"/>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.15 0.08 0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.5"/>\n      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.002" iyz="0.0" izz="0.002"/>\n    </inertial>\n  </link>\n\n  <link name="left_foot_tip">\n    <inertial>\n      <mass value="0.1"/>\n      <inertia ixx="0.0001" ixy="0.0" ixz="0.0" iyy="0.0001" iyz="0.0" izz="0.0001"/>\n    </inertial>\n  </link>\n</robot>\n'})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Degrees of Freedom:"})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Left arm: 5 DOF (shoulder pitch, yaw, roll; elbow; wrist pitch)"}),"\n",(0,o.jsx)(e.li,{children:"Right arm: 5 DOF (symmetrical to left)"}),"\n",(0,o.jsx)(e.li,{children:"Left leg: 4 DOF (hip pitch, knee, ankle pitch, ankle roll)"}),"\n",(0,o.jsx)(e.li,{children:"Right leg: 4 DOF (symmetrical to left)"}),"\n",(0,o.jsx)(e.li,{children:"Neck: 1 DOF"}),"\n",(0,o.jsx)(e.li,{children:"Total: 19 DOF"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"solution-24-inertial-properties-estimation",children:"Solution 2.4: Inertial Properties Estimation"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Example calculations:"})}),"\n",(0,o.jsx)(e.p,{children:"For torso (box: 0.2\xd70.15\xd70.4 m, density 2700 kg/m\xb3):"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Volume = 0.2 \xd7 0.15 \xd7 0.4 = 0.012 m\xb3"}),"\n",(0,o.jsx)(e.li,{children:"Mass = 0.012 \xd7 2700 = 32.4 kg"}),"\n",(0,o.jsx)(e.li,{children:"For a box: Ixx = 1/12 \xd7 m \xd7 (h\xb2 + d\xb2) = 1/12 \xd7 32.4 \xd7 (0.15\xb2 + 0.4\xb2) = 0.47 kg\u22c5m\xb2"}),"\n",(0,o.jsx)(e.li,{children:"Iyy = 1/12 \xd7 32.4 \xd7 (0.2\xb2 + 0.4\xb2) = 0.54 kg\u22c5m\xb2"}),"\n",(0,o.jsx)(e.li,{children:"Izz = 1/12 \xd7 32.4 \xd7 (0.2\xb2 + 0.15\xb2) = 0.18 kg\u22c5m\xb2"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"For upper arm (cylinder: r=0.05, l=0.25 m):"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Volume = \u03c0 \xd7 r\xb2 \xd7 l = 3.14159 \xd7 0.05\xb2 \xd7 0.25 = 0.00196 m\xb3"}),"\n",(0,o.jsx)(e.li,{children:"Mass = 0.00196 \xd7 2700 = 5.29 kg"}),"\n",(0,o.jsx)(e.li,{children:"For cylinder about central axis: Izz = \xbd \xd7 m \xd7 r\xb2 = 0.5 \xd7 5.29 \xd7 0.05\xb2 = 0.0066 kg\u22c5m\xb2"}),"\n",(0,o.jsx)(e.li,{children:"For cylinder about perpendicular axis: Ixx = Iyy = 1/12 \xd7 m \xd7 (3r\xb2 + l\xb2) = 1/12 \xd7 5.29 \xd7 (3\xd70.05\xb2 + 0.25\xb2) = 0.029 kg\u22c5m\xb2"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"For thigh (cylinder: r=0.05, l=0.3 m):"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Volume = 3.14159 \xd7 0.05\xb2 \xd7 0.3 = 0.00236 m\xb3"}),"\n",(0,o.jsx)(e.li,{children:"Mass = 0.00236 \xd7 2700 = 6.37 kg"}),"\n",(0,o.jsx)(e.li,{children:"Izz = 0.5 \xd7 6.37 \xd7 0.05\xb2 = 0.0079 kg\u22c5m\xb2"}),"\n",(0,o.jsx)(e.li,{children:"Ixx = Iyy = 1/12 \xd7 6.37 \xd7 (3\xd70.05\xb2 + 0.3\xb2) = 0.049 kg\u22c5m\xb2"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"solution-25-urdf-to-sdf-conversion-and-enhancement",children:"Solution 2.5: URDF to SDF Conversion and Enhancement"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"SDF conversion with sensors:"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<sdf version="1.7">\n  <model name="humanoid_with_sensors">\n    <pose>0 0 0.5 0 0 0</pose>\n\n    \x3c!-- Include the URDF model --\x3e\n    <include>\n      <uri>model://humanoid.urdf</uri>\n    </include>\n\n    \x3c!-- IMU Sensor --\x3e\n    <link name="imu_link">\n      <pose>0 0 0.1 0 0 0</pose>\n      <sensor name="imu_sensor" type="imu">\n        <always_on>true</always_on>\n        <update_rate>100</update_rate>\n        <imu>\n          <angular_velocity>\n            <x>\n              <noise type="gaussian">\n                <mean>0.0</mean>\n                <stddev>0.02</stddev>\n              </noise>\n            </x>\n            <y>\n              <noise type="gaussian">\n                <mean>0.0</mean>\n                <stddev>0.02</stddev>\n              </noise>\n            </y>\n            <z>\n              <noise type="gaussian">\n                <mean>0.0</mean>\n                <stddev>0.02</stddev>\n              </noise>\n            </z>\n          </angular_velocity>\n          <linear_acceleration>\n            <x>\n              <noise type="gaussian">\n                <mean>0.0</mean>\n                <stddev>1.7e-2</stddev>\n              </noise>\n            </x>\n            <y>\n              <noise type="gaussian">\n                <mean>0.0</mean>\n                <stddev>1.7e-2</stddev>\n              </noise>\n            </y>\n            <z>\n              <noise type="gaussian">\n                <mean>0.0</mean>\n                <stddev>1.7e-2</stddev>\n              </noise>\n            </z>\n          </linear_acceleration>\n        </imu>\n      </sensor>\n    </link>\n\n    \x3c!-- Camera Sensor --\x3e\n    <link name="camera_link">\n      <pose>0.05 0 0.05 0 0 0</pose>\n      <sensor name="camera" type="camera">\n        <camera>\n          <horizontal_fov>1.047</horizontal_fov>\n          <image>\n            <width>640</width>\n            <height>480</height>\n            <format>R8G8B8</format>\n          </image>\n          <clip>\n            <near>0.1</near>\n            <far>10</far>\n          </clip>\n        </camera>\n        <always_on>true</always_on>\n        <update_rate>30</update_rate>\n      </sensor>\n    </link>\n\n    \x3c!-- LiDAR Sensor --\x3e\n    <link name="lidar_link">\n      <pose>0.1 0 0.1 0 0 0</pose>\n      <sensor name="lidar" type="ray">\n        <ray>\n          <scan>\n            <horizontal>\n              <samples>360</samples>\n              <resolution>1</resolution>\n              <min_angle>-3.14159</min_angle>\n              <max_angle>3.14159</max_angle>\n            </horizontal>\n          </scan>\n          <range>\n            <min>0.1</min>\n            <max>10.0</max>\n            <resolution>0.01</resolution>\n          </range>\n        </ray>\n        <always_on>true</always_on>\n        <update_rate>10</update_rate>\n      </sensor>\n    </link>\n\n    \x3c!-- Physics properties --\x3e\n    <link name="physical_body">\n      <collision name="collision">\n        <geometry>\n          <box>\n            <size>0.2 0.15 0.4</size>\n          </box>\n        </geometry>\n        <surface>\n          <friction>\n            <ode>\n              <mu>0.5</mu>\n              <mu2>0.5</mu2>\n            </ode>\n          </friction>\n          <contact>\n            <ode>\n              <soft_cfm>0</soft_cfm>\n              <soft_erp>0.2</soft_erp>\n              <kp>1e+6</kp>\n              <kd>1e+3</kd>\n            </ode>\n          </contact>\n        </surface>\n      </collision>\n    </link>\n  </model>\n</sdf>\n'})}),"\n",(0,o.jsx)(e.h2,{id:"solution-26-validation-and-debugging",children:"Solution 2.6: Validation and Debugging"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Common URDF errors and fixes:"})}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Invalid joint limits:"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'\x3c!-- WRONG --\x3e\n<limit lower="2.0" upper="1.0" effort="10" velocity="1.0"/>\n\n\x3c!-- CORRECT --\x3e\n<limit lower="1.0" upper="2.0" effort="10" velocity="1.0"/>\n'})}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Negative mass values:"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'\x3c!-- WRONG --\x3e\n<mass value="-1.0"/>\n\n\x3c!-- CORRECT --\x3e\n<mass value="1.0"/>\n'})}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Non-positive definite inertia matrix:"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'\x3c!-- WRONG --\x3e\n<inertia ixx="-0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.1"/>\n\n\x3c!-- CORRECT --\x3e\n<inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.1"/>\n'})}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Kinematic loops:"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'\x3c!-- WRONG - creates a loop --\x3e\n<joint name="a_to_b" type="fixed">\n  <parent link="link_a"/>\n  <child link="link_b"/>\n</joint>\n<joint name="b_to_a" type="fixed">\n  <parent link="link_b"/>\n  <child link="link_a"/>\n</joint>\n\n\x3c!-- CORRECT - tree structure --\x3e\n<joint name="a_to_b" type="fixed">\n  <parent link="link_a"/>\n  <child link="link_b"/>\n</joint>\n'})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Validation checklist:"})}),"\n",(0,o.jsxs)(e.ul,{className:"contains-task-list",children:["\n",(0,o.jsxs)(e.li,{className:"task-list-item",children:[(0,o.jsx)(e.input,{type:"checkbox",disabled:!0})," All links have visual, collision, and inertial properties"]}),"\n",(0,o.jsxs)(e.li,{className:"task-list-item",children:[(0,o.jsx)(e.input,{type:"checkbox",disabled:!0})," All joints have valid parent-child relationships"]}),"\n",(0,o.jsxs)(e.li,{className:"task-list-item",children:[(0,o.jsx)(e.input,{type:"checkbox",disabled:!0})," Joint limits are properly ordered (lower < upper)"]}),"\n",(0,o.jsxs)(e.li,{className:"task-list-item",children:[(0,o.jsx)(e.input,{type:"checkbox",disabled:!0})," Mass values are positive"]}),"\n",(0,o.jsxs)(e.li,{className:"task-list-item",children:[(0,o.jsx)(e.input,{type:"checkbox",disabled:!0})," Inertia values form positive definite matrix"]}),"\n",(0,o.jsxs)(e.li,{className:"task-list-item",children:[(0,o.jsx)(e.input,{type:"checkbox",disabled:!0})," No kinematic loops in the model"]}),"\n",(0,o.jsxs)(e.li,{className:"task-list-item",children:[(0,o.jsx)(e.input,{type:"checkbox",disabled:!0})," Proper root link exists"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"solution-27-multi-link-chain-optimization",children:"Solution 2.7: Multi-Link Chain Optimization"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Performance optimization techniques:"})}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Simplified collision geometries:"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Instead of complex mesh --\x3e\n<collision>\n  <geometry>\n    <mesh filename="complex_robot.dae"/>\n  </geometry>\n</collision>\n\n\x3c!-- Use simplified primitive --\x3e\n<collision>\n  <geometry>\n    <cylinder radius="0.1" length="0.5"/>\n  </geometry>\n</collision>\n'})}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Physics parameter adjustment:"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:"<physics type='ode'>\n  <max_step_size>0.01</max_step_size>  \x3c!-- Larger for better performance --\x3e\n  <real_time_update_rate>100.0</real_time_update_rate>  \x3c!-- Lower for better performance --\x3e\n  <gravity>0 0 -9.8</gravity>\n</physics>\n"})}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Reduced visual detail:"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Use simple shapes for visual --\x3e\n<visual>\n  <geometry>\n    <cylinder radius="0.05" length="0.3"/>\n  </geometry>\n</visual>\n'})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Performance metrics to monitor:"})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Simulation update rate"}),"\n",(0,o.jsx)(e.li,{children:"CPU usage"}),"\n",(0,o.jsx)(e.li,{children:"Memory consumption"}),"\n",(0,o.jsx)(e.li,{children:"Physics solver convergence time"}),"\n"]}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"back-to-chapter-contents",children:"Back to Chapter Contents"}),"\n",(0,o.jsxs)(e.p,{children:["Return to ",(0,o.jsx)(e.a,{href:"/Physicial_Ai_Book_Hackathon_1/docs/module-3-digital-twin/chapter-2-robot-modeling/content",children:"Chapter 2 Content"})," | Continue to ",(0,o.jsx)(e.a,{href:"/Physicial_Ai_Book_Hackathon_1/docs/module-3-digital-twin/chapter-3-sensor-simulation/content",children:"Chapter 3"})]})]})}function d(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(m,{...n})}):m(n)}},8453(n,e,i){i.d(e,{R:()=>t,x:()=>a});var l=i(6540);const o={},r=l.createContext(o);function t(n){const e=l.useContext(r);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:t(n.components),l.createElement(r.Provider,{value:e},n.children)}}}]);