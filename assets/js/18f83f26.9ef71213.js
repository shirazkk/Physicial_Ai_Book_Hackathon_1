"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[5929],{8453(n,e,i){i.d(e,{R:()=>l,x:()=>a});var o=i(6540);const t={},s=o.createContext(t);function l(n){const e=o.useContext(s);return o.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:l(n.components),o.createElement(s.Provider,{value:e},n.children)}},9863(n,e,i){i.r(e),i.d(e,{assets:()=>r,contentTitle:()=>a,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"module-3-digital-twin/chapter-1-gazebo-basics/solutions","title":"Gazebo Simulation Environment Setup - Solutions","description":"Solution 1.1: Gazebo Installation and Verification","source":"@site/docs/module-3-digital-twin/chapter-1-gazebo-basics/solutions.md","sourceDirName":"module-3-digital-twin/chapter-1-gazebo-basics","slug":"/module-3-digital-twin/chapter-1-gazebo-basics/solutions","permalink":"/Physicial_Ai_Book_Hackathon_1/docs/module-3-digital-twin/chapter-1-gazebo-basics/solutions","draft":false,"unlisted":false,"editUrl":"https://github.com/shirazkk/Physicial_Ai_Book_Hackathon_1/edit/main/my-website/docs/module-3-digital-twin/chapter-1-gazebo-basics/solutions.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Gazebo Simulation Environment Setup - Exercises","permalink":"/Physicial_Ai_Book_Hackathon_1/docs/module-3-digital-twin/chapter-1-gazebo-basics/exercises"},"next":{"title":"URDF and SDF Robot Description Formats","permalink":"/Physicial_Ai_Book_Hackathon_1/docs/module-3-digital-twin/chapter-2-robot-modeling/content"}}');var t=i(4848),s=i(8453);const l={},a="Gazebo Simulation Environment Setup - Solutions",r={},c=[{value:"Solution 1.1: Gazebo Installation and Verification",id:"solution-11-gazebo-installation-and-verification",level:2},{value:"Solution 1.2: Basic World Creation",id:"solution-12-basic-world-creation",level:2},{value:"Solution 1.3: Robot Spawning Practice",id:"solution-13-robot-spawning-practice",level:2},{value:"Solution 1.4: World Customization Challenge",id:"solution-14-world-customization-challenge",level:2},{value:"Solution 1.5: Physics Validation Experiment",id:"solution-15-physics-validation-experiment",level:2},{value:"Solution 1.6: Performance Optimization",id:"solution-16-performance-optimization",level:2},{value:"Back to Chapter Contents",id:"back-to-chapter-contents",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"gazebo-simulation-environment-setup---solutions",children:"Gazebo Simulation Environment Setup - Solutions"})}),"\n",(0,t.jsx)(e.h2,{id:"solution-11-gazebo-installation-and-verification",children:"Solution 1.1: Gazebo Installation and Verification"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Steps:"})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["Installation command: ",(0,t.jsx)(e.code,{children:"curl -sSL http://get.gazebosim.org | sh"})," followed by ",(0,t.jsx)(e.code,{children:"sudo apt-get install gz-harmonic"})]}),"\n",(0,t.jsxs)(e.li,{children:["Verification: ",(0,t.jsx)(e.code,{children:"gz --version"})," should return the Gazebo Garden version information"]}),"\n",(0,t.jsxs)(e.li,{children:["Launch: ",(0,t.jsx)(e.code,{children:"gz sim"})," opens the Gazebo GUI"]}),"\n",(0,t.jsxs)(e.li,{children:["Main components include:\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"3D visualization window showing the simulated world"}),"\n",(0,t.jsx)(e.li,{children:"Entity tree displaying world objects"}),"\n",(0,t.jsx)(e.li,{children:"Toolbar with simulation controls (play, pause, reset)"}),"\n",(0,t.jsx)(e.li,{children:"Menu bar with file and edit options"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Expected outcome:"})," Successful installation with version information displayed."]}),"\n",(0,t.jsx)(e.h2,{id:"solution-12-basic-world-creation",children:"Solution 1.2: Basic World Creation"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsxs)(e.strong,{children:["Sample world file (",(0,t.jsx)(e.code,{children:"custom_world.sdf"}),"):"]})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-xml",children:"<?xml version=\"1.0\" ?>\n<sdf version='1.7'>\n  <world name='moon_environment'>\n    \x3c!-- Moon-like Physics Configuration (1/6th Earth gravity) --\x3e\n    <physics type='ode'>\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>0.5</real_time_factor>\n      <real_time_update_rate>1000.0</real_time_update_rate>\n      <gravity>0 0 -1.63</gravity>  \x3c!-- Moon gravity: 9.8 / 6 \u2248 1.63 --\x3e\n    </physics>\n\n    \x3c!-- Scene Configuration --\x3e\n    <scene>\n      <ambient>0.3 0.3 0.3 1</ambient>\n      <background>0.1 0.1 0.1 1</background>\n      <shadows>false</shadows>\n    </scene>\n\n    \x3c!-- Lighting --\x3e\n    <light name='sun' type='directional'>\n      <cast_shadows>false</cast_shadows>\n      <pose>0 0 10 0 0 0</pose>\n      <diffuse>0.8 0.8 0.8 1</diffuse>\n      <specular>0.2 0.2 0.2 1</specular>\n      <direction>-0.3 0.3 -1</direction>\n    </light>\n\n    \x3c!-- Ground Plane --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n\n    \x3c!-- Optional: Add a simple object to observe the reduced gravity --\x3e\n    <model name='dropped_ball'>\n      <pose>0 0 5 0 0 0</pose>\n      <link name='link'>\n        <collision name='collision'>\n          <geometry>\n            <sphere>\n              <radius>0.1</radius>\n            </sphere>\n          </geometry>\n        </collision>\n        <visual name='visual'>\n          <geometry>\n            <sphere>\n              <radius>0.1</radius>\n            </sphere>\n          </geometry>\n          <material>\n            <ambient>1 0 0 1</ambient>\n            <diffuse>1 0 0 1</diffuse>\n          </material>\n        </visual>\n        <inertial>\n          <mass>0.1</mass>\n          <inertia>\n            <ixx>0.0004</ixx>\n            <iyy>0.0004</iyy>\n            <izz>0.0004</izz>\n          </inertia>\n        </inertial>\n      </link>\n    </model>\n  </world>\n</sdf>\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Observations:"})," Objects will fall more slowly due to reduced gravity, and the simulation will run at half real-time speed."]}),"\n",(0,t.jsx)(e.h2,{id:"solution-13-robot-spawning-practice",children:"Solution 1.3: Robot Spawning Practice"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Command Line Method:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"gz model -f simple_box_robot.sdf -m my_robot\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsxs)(e.strong,{children:["Python Script (",(0,t.jsx)(e.code,{children:"spawn_robot.py"}),"):"]})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom geometry_msgs.msg import Pose\nfrom gazebo_msgs.srv import SpawnEntity\nimport sys\n\nclass RobotSpawner(Node):\n    def __init__(self):\n        super().__init__('robot_spawner')\n        self.spawn_client = self.create_client(SpawnEntity, '/spawn_entity')\n\n        while not self.spawn_client.wait_for_service(timeout_sec=1.0):\n            self.get_logger().info('Spawn service not available, waiting...')\n\n    def spawn_robot(self, robot_xml, robot_name, x=0.0, y=0.0, z=0.5):\n        request = SpawnEntity.Request()\n        request.xml = robot_xml\n        request.name = robot_name\n\n        initial_pose = Pose()\n        initial_pose.position.x = x\n        initial_pose.position.y = y\n        initial_pose.position.z = z\n        request.initial_pose = initial_pose\n\n        future = self.spawn_client.call_async(request)\n        rclpy.spin_until_future_complete(self, future)\n\n        if future.result() is not None:\n            self.get_logger().info(f'Successfully spawned {robot_name}')\n        else:\n            self.get_logger().error(f'Failed to spawn {robot_name}')\n\ndef main(args=None):\n    rclpy.init(args=args)\n\n    # Robot XML definition (same as in content.md)\n    robot_xml = '''<sdf version='1.7'>\n      <model name='simple_box_robot'>\n        <link name='chassis'>\n          <pose>0 0 0.1 0 0 0</pose>\n          <collision name='collision'>\n            <geometry>\n              <box>\n                <size>0.5 0.5 0.2</size>\n              </box>\n            </geometry>\n          </collision>\n          <visual name='visual'>\n            <geometry>\n              <box>\n                <size>0.5 0.5 0.2</size>\n              </box>\n            </geometry>\n          </visual>\n          <inertial>\n            <mass>1.0</mass>\n            <inertia>\n              <ixx>0.01</ixx>\n              <iyy>0.01</iyy>\n              <izz>0.01</izz>\n            </inertia>\n          </inertial>\n        </link>\n      </model>\n    </sdf>'''\n\n    spawner = RobotSpawner()\n    spawner.spawn_robot(robot_xml, 'programmatic_robot', x=2.0, y=0.0, z=0.5)\n\n    rclpy.spin(spawner)\n    spawner.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Comparison:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Command line: Faster for quick testing, no programming required"}),"\n",(0,t.jsx)(e.li,{children:"Programmatic: Better for automation, dynamic spawning, integration with ROS 2 nodes"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"solution-14-world-customization-challenge",children:"Solution 1.4: World Customization Challenge"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Sample world file with obstacle course:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-xml",children:"<?xml version=\"1.0\" ?>\n<sdf version='1.7'>\n  <world name='humanoid_obstacle_course'>\n    \x3c!-- Physics Configuration --\x3e\n    <physics type='ode'>\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1.0</real_time_factor>\n      <real_time_update_rate>1000.0</real_time_update_rate>\n      <gravity>0 0 -9.8</gravity>\n    </physics>\n\n    \x3c!-- Scene Configuration --\x3e\n    <scene>\n      <ambient>0.4 0.4 0.4 1</ambient>\n      <background>0.7 0.7 0.7 1</background>\n      <shadows>true</shadows>\n    </scene>\n\n    \x3c!-- Lighting --\x3e\n    <light name='sun' type='directional'>\n      <cast_shadows>true</cast_shadows>\n      <pose>0 0 10 0 0 0</pose>\n      <diffuse>0.8 0.8 0.8 1</diffuse>\n      <specular>0.2 0.2 0.2 1</specular>\n      <direction>-0.3 0.3 -1</direction>\n    </light>\n\n    \x3c!-- Ground Plane --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n\n    \x3c!-- Ramp --\x3e\n    <model name='training_ramp'>\n      <pose>5 0 0 0 0.2 0</pose>\n      <link name='link'>\n        <collision name='collision'>\n          <geometry>\n            <box>\n              <size>2 1 0.1</size>\n            </box>\n          </geometry>\n        </collision>\n        <visual name='visual'>\n          <geometry>\n            <box>\n              <size>2 1 0.1</size>\n            </box>\n          </geometry>\n          <material>\n            <ambient>0.5 0.5 0.5 1</ambient>\n            <diffuse>0.7 0.7 0.7 1</diffuse>\n          </material>\n        </visual>\n      </link>\n    </model>\n\n    \x3c!-- Stepping stones --\x3e\n    <model name='stepping_stone_1'>\n      <pose>8 0 0.05 0 0 0</pose>\n      <link name='link'>\n        <collision name='collision'>\n          <geometry>\n            <cylinder>\n              <radius>0.2</radius>\n              <length>0.1</length>\n            </cylinder>\n          </geometry>\n        </collision>\n        <visual name='visual'>\n          <geometry>\n            <cylinder>\n              <radius>0.2</radius>\n              <length>0.1</length>\n            </cylinder>\n          </geometry>\n          <material>\n            <ambient>0.8 0.6 0.2 1</ambient>\n            <diffuse>0.8 0.6 0.2 1</diffuse>\n          </material>\n        </visual>\n      </link>\n    </model>\n\n    \x3c!-- Obstacles --\x3e\n    <model name='wall_obstacle'>\n      <pose>11 0 0.5 0 0 0</pose>\n      <link name='link'>\n        <collision name='collision'>\n          <geometry>\n            <box>\n              <size>0.2 2 1</size>\n            </box>\n          </geometry>\n        </collision>\n        <visual name='visual'>\n          <geometry>\n            <box>\n              <size>0.2 2 1</size>\n            </box>\n          </geometry>\n          <material>\n            <ambient>0 0 1 1</ambient>\n            <diffuse>0 0 1 1</diffuse>\n          </material>\n        </visual>\n      </link>\n    </model>\n  </world>\n</sdf>\n"})}),"\n",(0,t.jsx)(e.h2,{id:"solution-15-physics-validation-experiment",children:"Solution 1.5: Physics Validation Experiment"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Method:"})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Create a simple sphere model dropped from a known height (e.g., 5 meters)"}),"\n",(0,t.jsx)(e.li,{children:"Record the simulation time when the sphere hits the ground"}),"\n",(0,t.jsx)(e.li,{children:"Use the formula: h = \xbdgt\xb2, so g = 2h/t\xb2"}),"\n",(0,t.jsx)(e.li,{children:"Expected result: ~9.8 m/s\xb2 for Earth gravity"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Sample experiment code:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom gazebo_msgs.msg import LinkStates\nimport time\n\nclass PhysicsValidator(Node):\n    def __init__(self):\n        super().__init__('physics_validator')\n        self.subscription = self.create_subscription(\n            LinkStates,\n            '/gazebo/link_states',\n            self.listener_callback,\n            10)\n        self.start_time = time.time()\n        self.object_dropped = False\n\n    def listener_callback(self, msg):\n        # Look for our dropped ball in the link states\n        for i, name in enumerate(msg.name):\n            if 'dropped_ball::link' in name:\n                z_pos = msg.pose[i].position.z\n                if z_pos <= 0.1 and not self.object_dropped:  # Hit the ground\n                    end_time = time.time()\n                    fall_time = end_time - self.start_time\n                    initial_height = 5.0  # meters\n\n                    # Calculate g = 2h/t^2\n                    calculated_g = (2 * initial_height) / (fall_time ** 2)\n\n                    self.get_logger().info(f'Fall time: {fall_time:.2f}s')\n                    self.get_logger().info(f'Calculated gravity: {calculated_g:.2f} m/s\xb2')\n                    self.get_logger().info(f'Theoretical gravity: 9.8 m/s\xb2')\n                    self.get_logger().info(f'Difference: {abs(9.8 - calculated_g):.2f} m/s\xb2')\n\n                    self.object_dropped = True\n"})}),"\n",(0,t.jsx)(e.h2,{id:"solution-16-performance-optimization",children:"Solution 1.6: Performance Optimization"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Performance monitoring:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Use Gazebo's statistics plugin to monitor frame rate and CPU usage"}),"\n",(0,t.jsx)(e.li,{children:"Reduce mesh complexity where possible"}),"\n",(0,t.jsx)(e.li,{children:"Lower physics update rates for less critical simulations"}),"\n",(0,t.jsx)(e.li,{children:"Minimize the number of active sensors"}),"\n",(0,t.jsx)(e.li,{children:"Use simpler collision geometries (boxes instead of complex meshes)"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Optimization techniques:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Replace complex meshes with primitive shapes for collision detection"}),"\n",(0,t.jsx)(e.li,{children:"Reduce the number of joints and links in robot models"}),"\n",(0,t.jsx)(e.li,{children:"Use lower resolution textures"}),"\n",(0,t.jsx)(e.li,{children:"Implement level-of-detail (LOD) for distant objects"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"back-to-chapter-contents",children:"Back to Chapter Contents"}),"\n",(0,t.jsxs)(e.p,{children:["Return to ",(0,t.jsx)(e.a,{href:"/Physicial_Ai_Book_Hackathon_1/docs/module-3-digital-twin/chapter-1-gazebo-basics/content",children:"Chapter 1 Content"})," | Continue to ",(0,t.jsx)(e.a,{href:"/Physicial_Ai_Book_Hackathon_1/docs/module-3-digital-twin/chapter-2-robot-modeling/content",children:"Chapter 2"})]})]})}function m(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}}}]);